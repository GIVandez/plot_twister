/* Simple layout for Fabric.js editor */
:root{ --toolbar-width:220px; --toolbar-vertical-padding:12px; }
*{box-sizing:border-box}
body{ margin:0; font-family:Inter,Segoe UI,Helvetica,Arial,sans-serif; height:100vh; display:flex }
.editor-root{ display:flex; width:100%; height:100vh; margin-left: var(--toolbar-width); }
.toolbar{ width:var(--toolbar-width); padding:var(--toolbar-vertical-padding); padding-right: 0; background:#ddd; border-right:1px solid #e1e1e1; display:flex; flex-direction:column; gap:12px;
	position: fixed;
	left: 0;
	top: 0;
	height: 100vh;
	height: 100dvh;
	overflow: hidden;
	z-index: 1000;
}
#colorWheel{ width:160px; height:160px; }
.color-area{ background:#fff; padding:12px; border-radius:8px; display:flex; flex-direction:column; align-items:center; gap:30px; box-shadow: 0 4px 8px rgba(0,0,0,0.06); }
.panel{ background:#fff; padding:10px; border-radius:8px; box-shadow: 0 4px 8px rgba(0,0,0,0.06); }
.panel-group{ display:flex; flex-direction:column; gap:10px }
.panel-group.top-panel{ padding:var(--toolbar-vertical-padding) 10px; }
.panel-group.bottom-panel{ padding:var(--toolbar-vertical-padding) 10px; }
.color-wheel-wrap{ background:#fff; padding:6px; border-radius:8px; margin-left: auto; }
.iro-slider{ width:160px; margin:0 auto }
.std-palette{ display:flex; flex-wrap:wrap; gap:6px; width:100%; }
.std-palette .palette-swatch{ width:26px; height:26px; border-radius:4px; cursor:pointer; border:1px solid #ccc }
.std-palette .palette-swatch.grey{ background:#e1e1e1 }
.palette-actions{ /* removed - kept for compatibility if needed */ display:none }
.palette-add{ display:none }
.std-palette .palette-swatch.active{ outline:2px solid #2d7cff; box-shadow: 0 0 0 4px rgba(45,124,255,0.12); }
.color-swap-row{ display:flex; align-items:center; justify-content:space-between; gap:6px; height:26px; }
.color-swap-left{ display:flex; align-items:center; gap:6px }
.swap-color{ width:26px; height:26px; border-radius:4px; border:1px solid #ccc }
.swap-btn{ border:0; background:#e9e9e9; padding:0; width:26px; height:26px; display:flex; align-items:center; justify-content:center; border-radius:4px; cursor:pointer }
.undo-redo{ display:flex; gap:6px; align-items:center }
.undo-redo button{ margin:0; padding:0; width:26px; height:26px; display:flex; align-items:center; justify-content:center; border-radius:4px; border:0; background:#e9e9e9; cursor:pointer }
.tools-row{ display:flex; gap:6px; justify-content:center }
.primitives-row{ display:flex; gap:6px; justify-content:center }
.tool-icon{ width:42px; height:42px; padding:11px; border-radius:8px; border:0; background:#e9e9e9; cursor:pointer; display:flex; align-items:center; justify-content:center }
.inputs{ display:flex; gap:8px; align-items:center }
.inputs .field{ display:flex; flex-direction:column; gap:6px }
.size-slider{ display:flex; flex-direction:column; align-items:flex-start; }
.size-slider > label{ margin:0; font-size:20px }
.size-control{ display:flex; flex-direction:row; align-items:center; gap:0; width:100%; position:relative; }
.size-preview-wrap{ height: 120px; flex:1 1 auto; display:flex; align-items:center; justify-content:center; padding:0; }
/* ensure the slider container is narrow and sits next to preview */
.size-slider-input{ flex:0 0 30px; display:flex; flex-direction:row; justify-content:center; gap:7px; height:120px; align-items:center; }

.size-slider-input input[type="range"] {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    border: 0;
    background: transparent;
    width: 15px;    /* visible width (thickness) */
    height: 120px;  /* visible height (length) */
    -webkit-appearance: slider-vertical; /* WebKit vertical native control */
    appearance: slider-vertical;
    writing-mode: bt-lr; /* fallback for some browsers */
}
/* Fallback for browsers that don't support slider-vertical: rotate and keep visible overflow */
@supports not (appearance: slider-vertical) {
    .size-control { overflow: visible; }
    .size-slider-input input[type="range"] {
        -webkit-appearance: none;
        appearance: none;
        display: block;
        transform: rotate(-90deg);
        transform-origin: center center;
        width: 120px; /* visual length */
        height: 15px; /* thickness */
    }
}
/* small normalization for webkit range thumb so it doesn't add gaps */
.size-slider-input input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; margin: 0; }
.size-slider-input input[type="range"]::-moz-range-thumb { margin: 0; }

.size-preview-circle{ width:32px; height:32px; border-radius:50%; border:2px solid rgba(0,0,0,0.6); background: transparent; box-sizing:border-box }
.panel-group .size-slider{ padding-top:4px }
.object-actions{ display:flex; gap:6px }
#colorWheel{ width:160px; height:160px; margin:0 auto }
.controls{ display:flex; flex-direction:column; gap:8px }
.tools{ display:none }
.tool{ padding:8px 10px; border-radius:8px; border:0; background:#e9e9e9; cursor:pointer }
.tool.active{ outline:2px solid #2d7cff; background:#fff }
.actions{ display:flex; gap:6px; flex-wrap:wrap; justify-content:center }
.actions button{ padding:8px 10px; border-radius:8px; border:0; background:#2d7cff; color:#fff; cursor:pointer; flex:1 }
.import input{ width:100% }
.canvas-wrap{ flex:1; display:flex; align-items:flex-start; justify-content:center; background: #ddd; padding-top:var(--toolbar-vertical-padding); padding-bottom:var(--toolbar-vertical-padding); }
canvas{ background:#fff; border-radius:8px; box-shadow:0 6px 18px rgba(0,0,0,0.2); display:block; max-height:calc(100vh - (var(--toolbar-vertical-padding) * 2)); aspect-ratio: 16 / 9; }

@media (max-width:820px){ :root{ --toolbar-width:180px } .toolbar{ padding:8px } }

